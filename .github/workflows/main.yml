name: Test Github Workflows

on:
  push:
    branches: [master]

jobs:
  info:
    name: Get Information
    runs-on: ubuntu-latest
    steps:
      - name: Check out code
        uses: actions/checkout@v3

      - name: Get Webhook JSON
        env:
          JSON_FILE: ${{ vars.GITHUB_EVENT_PATH }}
        run: |
          cat ${GITHUB_EVENT_PATH}
          echo
          WHO_DID_IT="$(cat ${GITHUB_EVENT_PATH} |jq -r .head_commit.author.name) ($(cat ${GITHUB_EVENT_PATH} |jq -r .head_commit.author.username))"
          PR_NAME="$(cat ${GITHUB_EVENT_PATH} |jq -r .head_commit.message |tail -1)"
          echo "${PR_NAME} -- ${WHO_DID_IT}"
